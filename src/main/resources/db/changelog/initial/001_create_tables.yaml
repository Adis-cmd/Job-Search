databaseChangeLog:
  - changeSet:
      id: create_table_for_users
      author: admin
      changes:
        - createTable:
            tableName: users
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
              - column:
                  name: name
                  type: varchar(40)
              - column:
                  name: surname
                  type: varchar(100)
              - column:
                  name: age
                  type: int
              - column:
                  name: email
                  type: varchar(125)
              - column:
                  name: password
                  type: varchar(120)
              - column:
                  name: phonenumber
                  type: varchar(50)
              - column:
                  name: avatar
                  type: varchar(255)
              - column:
                  name: accountType
                  type: varchar(255)
  - changeSet:
      id: create_table_for_category
      author: admin
      changes:
        - createTable:
            tableName: category
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
              - column:
                  name: name
                  type: varchar(100)
                  constraints:
                    nullable: false
              - column:
                  name: parentId
                  type: BIGINT
                  constraints:
                    nullable: true

        - addForeignKeyConstraint:
            baseTableName: category
            baseColumnNames: parentId
            constraintName: fk_parent_id
            referencedTableName: category
            referencedColumnNames: id

  - changeSet:
      id: crete_table_for_vacancy
      author: admin
      changes:
        - createTable:
            tableName: vacancy
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: name
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: description
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: categoryId
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: salary
                  type: DOUBLE
                  constraints:
                    nullable: false
              - column:
                  name: expFrom
                  type: INT
                  constraints:
                    nullable: false
              - column:
                  name: expTo
                  type: INT
                  constraints:
                    nullable: false
              - column:
                  name: isActive
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: authorId
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: createdDate
                  type: TIMESTAMP
                  constraints:
                    nullable: false
              - column:
                  name: updatedTime
                  type: TIMESTAMP
                  constraints:
                    nullable: false

        - addForeignKeyConstraint:
            baseTableName: vacancy
            baseColumnNames: categoryId
            constraintName: fk_category_id
            referencedTableName: category
            referencedColumnNames: id

        - addForeignKeyConstraint:
            baseTableName: vacancy
            baseColumnNames: authorId
            constraintName: fk_author_id
            referencedTableName: users
            referencedColumnNames: id

  - changeSet:
      id: create_table_contact_type
      author: admin
      changes:
        - createTable:
            tableName: contact_type
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    nullable: false
                    primaryKey: true
              - column:
                  name: type
                  type: varchar(100)
                  constraints:
                    nullable: false
  - changeSet:
      id: create_table_for_resume
      author: admin
      changes:
        - createTable:
            tableName: resume
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: applicantId
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: name
                  type: TEXT
                  constraints:
                    nullable: false
              - column:
                  name: categoryId
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: salary
                  type: double
                  constraints:
                    nullable: false
              - column:
                  name: isActive
                  type: BOOLEAN
                  constraints:
                    nullable: false
              - column:
                  name: createdDate
                  type: TIMESTAMP
                  constraints:
                    nullable: false
              - column:
                  name: updateTime
                  type: TIMESTAMP
                  constraints:
                    nullable: false

        - addForeignKeyConstraint:
            baseTableName: resume
            baseColumnNames: applicantId
            constraintName: fk_resume_applicant_id
            referencedTableName: users
            referencedColumnNames: id

        - addForeignKeyConstraint:
            baseTableName: resume
            baseColumnNames: categoryId
            constraintName: fk_resume_category_id
            referencedTableName: category
            referencedColumnNames: id


  - changeSet:
      id: create_table_for_contact_info
      author: admin
      changes:
        - createTable:
            tableName: contact_info
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: typeId
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: resumeId
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: info_value
                  type: TEXT
                  constraints:
                    nullable: false

        - addForeignKeyConstraint:
            baseTableName: contact_info
            baseColumnNames: typeId
            constraintName: fk_contact_info_type_id
            referencedTableName: contact_type
            referencedColumnNames: id

        - addForeignKeyConstraint:
            baseTableName: contact_info
            baseColumnNames: resumeId
            constraintName: fk_contact_info_resume_id
            referencedTableName: resume
            referencedColumnNames: id


  - changeSet:
      id: create_table_for_education_info
      author: admin
      changes:
        - createTable:
            tableName: education_info
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: resumeId
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: institution
                  type: VARCHAR(40)
                  constraints:
                    nullable: false
              - column:
                  name: program
                  type: VARCHAR(40)
                  constraints:
                    nullable: false
              - column:
                  name: startDate
                  type: DATE
                  constraints:
                    nullable: false
              - column:
                  name: endDate
                  type: DATE
                  constraints:
                    nullable: false
              - column:
                  name: degree
                  type: VARCHAR(40)
                  constraints:
                    nullable: false


        - addForeignKeyConstraint:
            baseTableName: education_info
            baseColumnNames: resumeId
            constraintName: fk_education_info_resume_id
            referencedTableName: resume
            referencedColumnNames: id


  - changeSet:
      id: create_table_for_responded_applicant
      author: admin
      changes:
        - createTable:
            tableName: responded_applicant
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: resumeId
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: vacancyId
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: confirmation
                  type: BOOLEAN
                  constraints:
                    nullable: false

        - addForeignKeyConstraint:
            baseTableName: responded_applicant
            baseColumnNames: resumeId
            constraintName: fk_responded_applicant_resume_id
            referencedTableName: resume
            referencedColumnNames: id

        - addForeignKeyConstraint:
            baseTableName: responded_applicant
            baseColumnNames: vacancyId
            constraintName: fk_responded_applicant_vacancy_id
            referencedTableName: vacancy
            referencedColumnNames: id

  - changeSet:
      id: create_table_for_message
      author: admin
      changes:
        - createTable:
            tableName: message
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: respondedApplicants
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: content
                  type: VARCHAR(100)
                  constraints:
                    nullable: false
              - column:
                  name: timestamp
                  type: TIMESTAMP
                  constraints:
                    nullable: false

        - addForeignKeyConstraint:
            baseTableName: message
            baseColumnNames: respondedApplicants
            constraintName: fk_message_responded_applicant_id
            referencedTableName: responded_applicant
            referencedColumnNames: id


  - changeSet:
      id: create_table_for_work_experience_info
      author: admin
      changes:
        - createTable:
            tableName: work_experience_info
            columns:
              - column:
                  name: id
                  type: BIGINT
                  autoIncrement: true
                  constraints:
                    primaryKey: true
                    nullable: false
              - column:
                  name: resumeId
                  type: BIGINT
                  constraints:
                    nullable: false
              - column:
                  name: years
                  type: INT
                  constraints:
                    nullable: false
              - column:
                  name: companyName
                  type: VARCHAR(40)
                  constraints:
                    nullable: false
              - column:
                  name: position
                  type: VARCHAR(100)
                  constraints:
                    nullable: false
              - column:
                  name: responsibilities
                  type: VARCHAR(100)
                  constraints:
                    nullable: false

        - addForeignKeyConstraint:
            baseTableName: work_experience_info
            baseColumnNames: resumeId
            constraintName: fk_work_experience_info_resume_id
            referencedTableName: resume
            referencedColumnNames: id